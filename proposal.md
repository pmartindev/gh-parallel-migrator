To migrate a repo from GitHub AE to GitHub Enterprise Cloud, there are two steps:
1. <b>Export</b>: Generate a migration archive in GitHub AE including the Git source and metadata (issues, pull requests, etc.)
1. <b>Import</b>: Import the migration archive into GitHub Enterprise Cloud

The GitHub Enterprise Importer CLI (`gh gei`) includes a `generate-script` command which can generate a script to migrate many repos at once, covering both export and import. However, this is inadequate for two reasons:

1. LinkedIn has some repos that are too big to be supported by GEI - either because they contain large files or the total size is too big. For these repos, we will need to use Enterprise Cloud Importer (ECI), but gh gei doesn’t allow us to generate an archive and then pass it to ECI.


1. Scripts generated by GEI can run imports in parallel, but they run exports in serial. This slows down the migration process significantly, given that a GitHub AE instance can in fact run many exports concurrency.

<b>We should write our own parallelised script for the export step. Once we have archives, we can then do each import with whatever tool we like: GEI or ECI.</b>

The export script should:
* Accept a list of repository name-with-owners (“NWOs”), e.g. `multiproduct/voyager-web` as an argument. We could use comma-separated values to accept a long list.
* For each repository in the list, kick off an export using the [“Start an organization migration”](https://docs.github.com/en/github-ae@latest/rest/migrations/orgs?apiVersion=2022-11-28#start-an-organization-migration) REST API, subject to the limit on parallel migrations
* Keep track of all of the exports started, and wait for them to complete using the [“Get an organization migration status”](https://docs.github.com/en/github-ae@latest/rest/migrations/orgs?apiVersion=2022-11-28#get-an-organization-migration-status) REST API.
* When an export finishes, download its archive to the local machine using the URL provided by the [“Download an organization migration archive”](https://docs.github.com/en/github-ae@latest/rest/migrations/orgs?apiVersion=2022-11-28#download-an-organization-migration-archive) REST API.
* Not exit abruptly if a REST API request fails or a migration fails - instead, errors should be reported to the user
Nice to have: 
* Record how long each export took to complete 
* Allow the user to configure how many exports are run in parallel

Once we have an archive:
* <b>For migrating with GEI</b>, we would upload it to Azure Blob Storage, generate a SAS URL and then call gh gei migrate-repo using the --git-archive-url and --metadata-archive-url arguments
* <b>For migrating with ECI</b>, we would upload the archive direct to GitHub.com for import
